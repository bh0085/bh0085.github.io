<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Positioning Summary</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <div id="root"></div>

  <script type="text/babel">
    const takeaways = [
      {
        name: "1. The Scientific Infrastructure",
        colors: "bg-sky-50 text-sky-700",
        slides: [
          {
            text: "We're building the operating system for automated science.",
            title: "We're building the operating system for automated science",
            subtitle: "",
            image: "images/story1_slide_1_operating_system.png",
            textColor: "black"
          },
          {
            text: "Current scientific work is bottlenecked by manual, inconsistent human operations.",
            title: "Current scientific work is bottlenecked by manual, inconsistent human operations",
            image: "images/story1_slide_2_bottleneck.png",
            textColor: "black"
          },
          {
            text: "Our first product, LabOS, is a unified platform integrating perception, intelligence, and action.",
            title: "Our first product, LabOS, is a unified platform integrating perception, intelligence, and action",
            image: "images/story1_slide_3_unified_platform.png",
            textColor: "black"
          },
          {
            text: "Our core platform architecture is designed for rapid expansion into new scientific domains.",
            title: "Our core platform architecture is designed for rapid expansion into new scientific domains",
            image: "images/story1_slide_4_rapid_expansion.png",
            textColor: "black"
          },
          {
            text: "From lab automation to clinical trials and beyond—one platform, many applications. We're building the OS for science.",
            title: "From lab automation to clinical trials and beyond—one platform, many applications",
            subtitle: "We're building the OS for science",
            image: "images/story1_slide_5_one_platform.png",
            textColor: "black"
          }
        ]
      },
      {
        name: "2. The Data Differentiation",
        colors: "bg-green-50 text-green-700",
        slides: [
          {
            text: "We generate the operational data that AI needs but cannot access.",
            title: "We generate the operational data that AI needs but cannot access",
            subtitle: "",
            image: "images/story2_slide_1_operational_data.png",
            textColor: "white"
          },
          {
            text: "The AI revolution is starved for the physical-world data that drives scientific discovery.",
            title: "The AI revolution is starved for the physical-world data that drives scientific discovery",
            image: "images/story2_slide_2_starved_for_data.png",
            textColor: "white"
          },
          {
            text: "Our XR and robotics platform creates a proprietary, compounding data moat over time.",
            title: "Our XR and robotics platform creates a proprietary, compounding data moat over time",
            image: "images/story2_slide_3_data_moat.png",
            textColor: "black"
          },
          {
            text: "Our first products, LabOS and ClinOS, are engines for generating this unique operational data.",
            title: "Our first products, LabOS and ClinOS, are engines for generating this unique operational data",
            image: "images/story2_slide_4_data_engines.png",
            textColor: "black"
          },
          {
            text: "Every experiment captured. Every protocol learned. Every deployment compounds our data advantage.",
            title: "Every experiment captured. Every protocol learned",
            subtitle: "Every deployment compounds our data advantage",
            image: "images/story2_slide_5_compounding_advantage.png",
            textColor: "black"
          }
        ]
      },
      {
        name: "3. The Company vs. Product",
        colors: "bg-purple-50 text-purple-700",
        slides: [
          {
            text: "We're a platform company that builds multiple products, not a single-product company.",
            title: "We're a platform company that builds multiple products, not a single-product company",
            subtitle: "",
            image: "images/story3_slide_1_platform_company.png",
            textColor: "black"
          },
          {
            text: "Our 'tracks' framework signals a broad, scalable vision beyond any single application.",
            title: "Our 'tracks' framework signals a broad, scalable vision beyond any single application",
            image: "images/story3_slide_2_tracks_framework.png",
            textColor: "black"
          },
          {
            text: "A shared platform architecture allows us to serve distinct markets while reusing core technology.",
            title: "A shared platform architecture allows us to serve distinct markets while reusing core technology",
            image: "images/story3_slide_3_shared_platform.png",
            textColor: "black"
          },
          {
            text: "Learnings and data from each track create compounding network effects across the entire platform.",
            title: "Learnings and data from each track create compounding network effects across the entire platform",
            image: "images/story3_slide_4_network_effects.png",
            textColor: "black"
          },
          {
            text: "One platform. Multiple tracks. Compounding advantages. We're building the company that automates science.",
            title: "One platform. Multiple tracks. Compounding advantages",
            subtitle: "We're building the company that automates science",
            image: "images/story3_slide_5_building_company.png",
            textColor: "black"
          }
        ]
      },
      {
        name: "4. The Ladder to the Moon",
        colors: "bg-amber-50 text-amber-700",
        slides: [
          {
            text: "Embodied AI is the necessary foundation for scientific superintelligence. We're building that foundation.",
            title: "Embodied AI is the necessary foundation for scientific superintelligence",
            subtitle: "We're building that foundation",
            image: "images/story4_slide_1_foundation.png",
            textColor: "black"
          },
          {
            text: "Purely computational AI approaches are insufficient for true scientific breakthroughs.",
            title: "Purely computational AI approaches are insufficient for true scientific breakthroughs",
            image: "images/story4_slide_2_ladder_to_moon.png",
            textColor: "white"
          },
          {
            text: "We uniquely combine sensory perception, AI reasoning, and physical action.",
            title: "We uniquely combine sensory perception, AI reasoning, and physical action",
            image: "images/story4_slide_3_integration.png",
            textColor: "black"
          },
          {
            text: "Our two initial product tracks validate the platform and build towards our long-term vision.",
            title: "Our two initial product tracks validate the platform and build towards our long-term vision",
            image: "images/story4_slide_4_two_tracks.png",
            textColor: "black"
          },
          {
            text: "Better sensors, not just better models. Operational superintelligence unlocks scientific superintelligence.",
            title: "Better sensors, not just better models",
            subtitle: "Operational superintelligence unlocks scientific superintelligence",
            image: "images/story4_slide_5_unlocking.png",
            textColor: "black"
          }
        ]
      }
    ];

    const SummaryView = () => {
      const { useState, useEffect, useRef } = React;
      const [currentSlide, setCurrentSlide] = useState(0);
      const [focusedStory, setFocusedStory] = useState(0);
      const [focusAll, setFocusAll] = useState(false);
      const [viewMode, setViewMode] = useState('text'); // 'text' or 'images'
      const [imagesLoaded, setImagesLoaded] = useState(false);
      const touchStartX = useRef(0);
      const touchEndX = useRef(0);

      const maxSlides = Math.max(...takeaways.map(story => story.slides.length));

      // Preload all images when switching to image mode
      useEffect(() => {
        if (viewMode === 'images' && !imagesLoaded) {
          const allImages = takeaways.flatMap(story => 
            story.slides.map(slide => slide.image)
          );
          let loadedCount = 0;
          
          allImages.forEach(url => {
            const img = new Image();
            img.onload = () => {
              loadedCount++;
              if (loadedCount === allImages.length) {
                setImagesLoaded(true);
              }
            };
            img.src = url;
          });
        }
      }, [viewMode]);

      useEffect(() => {
        const handleKeyDown = (e) => {
          if (e.key === 'ArrowLeft' && e.altKey) {
            // Option+Left: Previous story
            setFocusedStory(prev => Math.max(0, prev - 1));
          } else if (e.key === 'ArrowRight' && e.altKey) {
            // Option+Right: Next story
            setFocusedStory(prev => Math.min(takeaways.length - 1, prev + 1));
          } else if (e.key === 'ArrowLeft') {
            // Left: Previous slide
            if (currentSlide > 0) {
              setCurrentSlide(currentSlide - 1);
            }
          } else if (e.key === 'ArrowRight') {
            // Right: Next slide
            if (currentSlide < maxSlides - 1) {
              setCurrentSlide(currentSlide + 1);
            }
          }
        };
        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
      }, [currentSlide, maxSlides]);

      const nextSlide = () => {
        if (currentSlide < maxSlides - 1) {
          setCurrentSlide(currentSlide + 1);
        }
      };

      const prevSlide = () => {
        if (currentSlide > 0) {
          setCurrentSlide(currentSlide - 1);
        }
      };

      const handleTouchStart = (e) => {
        touchStartX.current = e.touches[0].clientX;
      };

      const handleTouchMove = (e) => {
        touchEndX.current = e.touches[0].clientX;
      };

      const handleTouchEnd = () => {
        const swipeThreshold = 50;
        const diff = touchStartX.current - touchEndX.current;
        
        if (Math.abs(diff) > swipeThreshold) {
          if (diff > 0) {
            // Swipe left - next slide
            if (currentSlide < maxSlides - 1) {
              setCurrentSlide(currentSlide + 1);
            }
          } else {
            // Swipe right - previous slide
            if (currentSlide > 0) {
              setCurrentSlide(currentSlide - 1);
            }
          }
        }
      };

      return (
        <div className="min-h-screen flex flex-col items-center justify-center p-4">
          <div className="w-full max-w-7xl">
            <div className="flex items-center justify-center gap-4 mb-3">
              <p className="text-xs sm:text-sm text-gray-400">
                <span className="hidden sm:inline">← → advance • Option+← → focus</span>
                <span className="sm:hidden">Swipe to advance</span>
              </p>
              <button
                onClick={() => setFocusAll(!focusAll)}
                className="px-3 py-1 text-xs font-medium bg-gray-200 hover:bg-gray-300 text-gray-700 rounded transition-colors"
              >
                {focusAll ? 'Focus One' : 'Focus All'}
              </button>
              <button
                onClick={() => setViewMode(viewMode === 'text' ? 'images' : 'text')}
                className="px-3 py-1 text-xs font-medium bg-gray-200 hover:bg-gray-300 text-gray-700 rounded transition-colors"
              >
                {viewMode === 'text' ? 'Show Images' : 'Show Text'}
              </button>
            </div>
            
            {/* Mobile: Show focused positioning selector */}
            <div className="sm:hidden mb-3 flex justify-center gap-2">
              {takeaways.map((story, idx) => (
                <button
                  key={idx}
                  onClick={() => { setFocusedStory(idx); setFocusAll(false); }}
                  className={`px-3 py-2 text-xs rounded ${focusedStory === idx && !focusAll ? 'bg-indigo-600 text-white' : 'bg-gray-200 text-gray-700'} transition-colors`}
                >
                  {idx + 1}
                </button>
              ))}
            </div>

            <div 
              className="grid grid-cols-1 sm:grid-cols-2 gap-4"
              onTouchStart={handleTouchStart}
              onTouchMove={handleTouchMove}
              onTouchEnd={handleTouchEnd}
            >
              {viewMode === 'images' && !imagesLoaded ? (
                <div className="col-span-full flex items-center justify-center py-20">
                  <div className="text-center">
                    <div className="inline-block animate-spin rounded-full h-12 w-12 border-4 border-gray-300 border-t-indigo-600 mb-4"></div>
                    <p className="text-gray-600">Loading images...</p>
                  </div>
                </div>
              ) : (
                takeaways.map((story, storyIndex) => {
                  const [bgColor, textColor] = story.colors.split(' ');
                  const isFocused = focusedStory === storyIndex;
                  const opacityClass = focusAll ? 'opacity-100' : (isFocused ? 'opacity-100' : 'opacity-30');
                  const displayClass = focusAll ? 'block' : (isFocused ? 'block' : 'hidden sm:block');
                  const slide = story.slides[currentSlide];
                  
                  return (
                    <div 
                      key={storyIndex} 
                      onClick={() => { setFocusedStory(storyIndex); setFocusAll(false); }}
                      className={`rounded-lg shadow-md flex flex-col aspect-video ${opacityClass} ${displayClass} transition-opacity duration-300 cursor-pointer overflow-hidden relative`}
                    >
                      {viewMode === 'text' ? (
                        // Text mode - original layout
                        <>
                          <div className={`${bgColor} p-4 sm:p-6 flex flex-col h-full`}>
                            <p className={`text-xs sm:text-sm font-bold uppercase ${textColor} mb-2`}>{story.name}</p>
                            <div className="flex-grow flex items-center justify-center px-2">
                              <h2 className="text-lg sm:text-xl md:text-2xl font-bold text-gray-900 text-center leading-snug">
                                {slide?.text || ''}
                              </h2>
                            </div>
                          </div>
                        </>
                      ) : (
                        // Image mode - reuse story slide rendering
                        <>
                          {slide?.image && (
                            <img 
                              src={slide.image}
                              alt={slide.title}
                              className="absolute inset-0 w-full h-full object-cover"
                            />
                          )}
                          <div className="relative z-10 h-full p-3 sm:p-4 md:p-6">
                            <div>
                              <h1 className={`text-sm sm:text-base md:text-lg lg:text-xl font-bold tracking-tight leading-tight ${
                                slide?.textColor === 'white' ? 'text-white' : 'text-black'
                              }`} style={{fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif'}}>
                                {slide?.title || ''}
                              </h1>
                              {slide?.subtitle && (
                                <h2 className={`text-xs sm:text-sm md:text-base lg:text-lg font-normal tracking-tight leading-tight mt-1 ${
                                  slide?.textColor === 'white' ? 'text-white/90' : 'text-black/80'
                                }`} style={{fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif'}}>
                                  {slide.subtitle}
                                </h2>
                              )}
                            </div>
                          </div>
                        </>
                      )}
                    </div>
                  );
                })
              )}
            </div>

            <div className="flex items-center justify-center mt-6 gap-2 sm:gap-0">
              <button
                onClick={prevSlide}
                disabled={currentSlide === 0}
                className="px-4 sm:px-6 py-3 sm:py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900 disabled:text-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation"
              >
                ← <span className="hidden sm:inline">Previous</span>
              </button>
              <span className="text-gray-500 mx-2 sm:mx-4 text-sm sm:text-base font-medium">
                {currentSlide + 1} / {maxSlides}
              </span>
              <button
                onClick={nextSlide}
                disabled={currentSlide >= maxSlides - 1}
                className="px-4 sm:px-6 py-3 sm:py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900 disabled:text-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation"
              >
                <span className="hidden sm:inline">Next</span> →
              </button>
            </div>
             <div className="text-center mt-4 sm:mt-3">
                <a href="index.html" className="text-sm text-indigo-600 hover:underline touch-manipulation inline-block py-2">← Back to Detailed Stories</a>
            </div>
          </div>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<SummaryView />);
  </script>
</body>
</html>
