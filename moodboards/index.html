<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brand Moodboards</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white p-4 sm:p-8">
  <div class="max-w-7xl mx-auto">
    <div class="flex justify-between items-start mb-2">
      <h1 class="text-3xl sm:text-4xl font-bold">Brand Concept Moodboards</h1>
      <button onclick="copyAllWords()" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-semibold text-sm">COPY ALL WORDS</button>
    </div>
    <p class="text-gray-400 mb-8 text-sm sm:text-base">Click any concept to generate. Click again for a different result.</p>
    
    <h2 class="text-2xl font-bold mb-4 text-gray-300">Brand Concepts</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-12" id="brand-concepts">
      <div class="concept-card bg-blue-900/30 border border-blue-500 p-4 sm:p-6 rounded-lg cursor-pointer hover:bg-blue-900/50 transition" data-concept="vision">
        <h2 class="text-xl sm:text-2xl font-bold mb-2">Vision Catalyst</h2>
        <p class="text-xs sm:text-sm text-gray-300 mb-4">Perception-driven evolution</p>
        <div class="word-cloud text-center text-sm" id="vision-cloud">Click to generate →</div>
      </div>
      
      <div class="concept-card bg-green-900/30 border border-green-500 p-4 sm:p-6 rounded-lg cursor-pointer hover:bg-green-900/50 transition" data-concept="emergent">
        <h2 class="text-xl sm:text-2xl font-bold mb-2">Emergent Intelligence</h2>
        <p class="text-xs sm:text-sm text-gray-300 mb-4">Grown, not programmed</p>
        <div class="word-cloud text-center text-sm" id="emergent-cloud">Click to generate →</div>
      </div>
      
      <div class="concept-card bg-purple-900/30 border border-purple-500 p-4 sm:p-6 rounded-lg cursor-pointer hover:bg-purple-900/50 transition" data-concept="dimensional">
        <h2 class="text-xl sm:text-2xl font-bold mb-2">Dimensional Discovery</h2>
        <p class="text-xs sm:text-sm text-gray-300 mb-4">Spatial understanding</p>
        <div class="word-cloud text-center text-sm" id="dimensional-cloud">Click to generate →</div>
      </div>
      
      <div class="concept-card bg-amber-900/30 border border-amber-500 p-4 sm:p-6 rounded-lg cursor-pointer hover:bg-amber-900/50 transition" data-concept="cambrian">
        <h2 class="text-xl sm:text-2xl font-bold mb-2">Cambrian Moment</h2>
        <p class="text-xs sm:text-sm text-gray-300 mb-4">Vision changes everything</p>
        <div class="word-cloud text-center text-sm" id="cambrian-cloud">Click to generate →</div>
      </div>
      
      <div class="concept-card bg-cyan-900/30 border border-cyan-500 p-4 sm:p-6 rounded-lg cursor-pointer hover:bg-cyan-900/50 transition" data-concept="symbiotic">
        <h2 class="text-xl sm:text-2xl font-bold mb-2">Symbiotic Intelligence</h2>
        <p class="text-xs sm:text-sm text-gray-300 mb-4">Human + AI co-evolution</p>
        <div class="word-cloud text-center text-sm" id="symbiotic-cloud">Click to generate →</div>
      </div>
      
      <div class="concept-card bg-pink-900/30 border border-pink-500 p-4 sm:p-6 rounded-lg cursor-pointer hover:bg-pink-900/50 transition" data-concept="acceleration">
        <h2 class="text-xl sm:text-2xl font-bold mb-2">Pattern Acceleration</h2>
        <p class="text-xs sm:text-sm text-gray-300 mb-4">Compressed evolution</p>
        <div class="word-cloud text-center text-sm" id="acceleration-cloud">Click to generate →</div>
      </div>
    </div>
    
    <h2 class="text-2xl font-bold mb-4 text-gray-300">User Moodboards</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6" id="user-concepts">
      <div class="concept-card bg-indigo-900/30 border border-indigo-500 p-4 sm:p-6 rounded-lg" data-concept="scifi">
        <div class="flex justify-between items-start mb-2">
          <h2 class="text-xl sm:text-2xl font-bold">Sci-Fi Futures</h2>
          <button onclick="editPrompt('scifi')" class="text-xs bg-indigo-600 hover:bg-indigo-700 px-2 py-1 rounded">Edit Prompt</button>
        </div>
        <p class="text-xs sm:text-sm text-gray-300 mb-4">For sandy@mlcl.ai</p>
        <div class="word-cloud text-center text-sm cursor-pointer hover:opacity-80 transition" id="scifi-cloud" onclick="generateUserMoodboard('scifi')">Click to generate →</div>
      </div>
      
      <div class="concept-card bg-teal-900/30 border border-teal-500 p-4 sm:p-6 rounded-lg" data-concept="culture">
        <div class="flex justify-between items-start mb-2">
          <h2 class="text-xl sm:text-2xl font-bold">Culture & Foundation</h2>
          <button onclick="editPrompt('culture')" class="text-xs bg-teal-600 hover:bg-teal-700 px-2 py-1 rounded">Edit Prompt</button>
        </div>
        <p class="text-xs sm:text-sm text-gray-300 mb-4">For ben@mlcl.ai</p>
        <div class="word-cloud text-center text-sm cursor-pointer hover:opacity-80 transition" id="culture-cloud" onclick="generateUserMoodboard('culture')">Click to generate →</div>
      </div>
    </div>
    
    <div class="mt-8 p-4 bg-gray-800 rounded text-center">
      <p class="text-xs sm:text-sm text-gray-400">✨ Powered by Gemini API</p>
    </div>
  </div>

  <!-- Prompt Editor Modal -->
  <div id="promptModal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50">
    <div class="bg-gray-800 rounded-lg p-6 max-w-2xl w-full">
      <h3 class="text-2xl font-bold mb-4">Edit Prompt</h3>
      <textarea id="promptText" class="w-full h-40 bg-gray-700 text-white p-3 rounded border border-gray-600 text-sm" placeholder="Enter your prompt..."></textarea>
      <div class="flex gap-3 mt-4">
        <button onclick="savePrompt()" class="flex-1 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-semibold">Save & Generate</button>
        <button onclick="closePromptModal()" class="flex-1 bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded font-semibold">Cancel</button>
      </div>
    </div>
  </div>

  <script>
    // Gemini API keys are designed for client-side use with HTTP referrer restrictions
    const GEMINI_API_KEY = 'AIzaSyBPwwjrvnUhTqmjF2i-pcnMsRq8ZreLGjU';
    
    // Store generated words for each concept
    const generatedWords = {};
    
    const prompts = {
      vision: "Generate a poetic word cloud of 30-40 evocative words about vision, perception, light, eyes, seeing, observation, XR glasses, spatial awareness, and visual intelligence. Mix scientific and poetic terms. Format as a simple comma-separated list.",
      emergent: "Generate a poetic word cloud of 30-40 evocative words about emergence, evolution, growth, biological systems, adaptation, organic intelligence, self-organization, and natural systems. Mix scientific and poetic terms. Format as a simple comma-separated list.",
      dimensional: "Generate a poetic word cloud of 30-40 evocative words about dimensions, space, spatial reasoning, 3D understanding, immersion, relationships, lattices, geometry, and multidimensional thinking. Mix scientific and poetic terms. Format as a simple comma-separated list.",
      cambrian: "Generate a poetic word cloud of 30-40 evocative words about the Cambrian explosion, evolutionary leaps, vision evolution, eyes, light, breakthrough moments, flourishing, and revolutionary change. Mix scientific and poetic terms. Format as a simple comma-separated list.",
      symbiotic: "Generate a poetic word cloud of 30-40 evocative words about symbiosis, human-AI partnership, co-evolution, mutual growth, hybrid intelligence, collaboration, and augmented cognition. Mix scientific and poetic terms. Format as a simple comma-separated list.",
      acceleration: "Generate a poetic word cloud of 30-40 evocative words about acceleration, speed, compression, rapid evolution, cascades, exponential growth, momentum, and accelerating discovery. Mix scientific and poetic terms. Format as a simple comma-separated list.",
      scifi: "Generate a poetic word cloud of 30-40 evocative words about science fiction, futuristic technology, space exploration, cyberpunk, AI consciousness, interstellar travel, quantum computing, dystopian and utopian futures, neon cityscapes, and technological singularity. Mix scientific and poetic terms. Format as a simple comma-separated list.",
      culture: "Generate a poetic word cloud of 30-40 evocative words inspired by Iain M. Banks' Culture series and Isaac Asimov's Foundation series. Include themes of: psychohistory, mathematical prediction, galactic civilizations, benevolent AI Minds, post-scarcity utopias, evolutionary timescales, orbital habitats, interstellar diaspora, sublime intelligence, and the long view of civilization. Mix poetic, mathematical, and cosmic terms. Format as a simple comma-separated list."
    };

    async function callGeminiAPI(prompt) {
      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${GEMINI_API_KEY}`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          contents: [{
            parts: [{
              text: prompt
            }]
          }]
        })
      });

      if (!response.ok) {
        throw new Error(`Gemini API error: ${response.status}`);
      }

      const data = await response.json();
      return data.candidates[0].content.parts[0].text;
    }

    // Brand concept click handlers
    document.querySelectorAll('#brand-concepts .concept-card').forEach(card => {
      card.addEventListener('click', async () => {
        const concept = card.dataset.concept;
        const cloudEl = document.getElementById(concept + '-cloud');
        
        cloudEl.innerHTML = '<div class="text-yellow-400">Generating...</div>';
        
        try {
          const text = await callGeminiAPI(prompts[concept]);
          const words = text.replace(/^[^:]*:\s*/, '').split(',').map(w => w.trim()).filter(w => w.length > 0);
          
          generatedWords[concept] = words;
          
          cloudEl.innerHTML = words.map((word, i) => {
            const size = Math.floor(Math.random() * 20) + 12;
            const opacity = Math.random() * 0.5 + 0.5;
            return `<span style="font-size:${size}px; opacity:${opacity}; margin:4px; display:inline-block">${word}</span>`;
          }).join(' ');
        } catch (error) {
          cloudEl.innerHTML = `<div class="text-red-400 text-xs">Error: ${error.message}</div>`;
          console.error(error);
        }
      });
    });

    // User moodboard functions
    let currentEditingConcept = null;

    function editPrompt(concept) {
      currentEditingConcept = concept;
      document.getElementById('promptText').value = prompts[concept];
      document.getElementById('promptModal').classList.remove('hidden');
    }

    function closePromptModal() {
      document.getElementById('promptModal').classList.add('hidden');
      currentEditingConcept = null;
    }

    function savePrompt() {
      const newPrompt = document.getElementById('promptText').value;
      if (currentEditingConcept && newPrompt.trim()) {
        prompts[currentEditingConcept] = newPrompt;
        closePromptModal();
        generateUserMoodboard(currentEditingConcept);
      }
    }

    async function generateUserMoodboard(concept) {
      const cloudEl = document.getElementById(concept + '-cloud');
      cloudEl.innerHTML = '<div class="text-yellow-400">Generating...</div>';
      
      try {
        const text = await callGeminiAPI(prompts[concept]);
        const words = text.replace(/^[^:]*:\s*/, '').split(',').map(w => w.trim()).filter(w => w.length > 0);
        
        generatedWords[concept] = words;
        
        cloudEl.innerHTML = words.map((word, i) => {
          const size = Math.floor(Math.random() * 20) + 12;
          const opacity = Math.random() * 0.5 + 0.5;
          return `<span style="font-size:${size}px; opacity:${opacity}; margin:4px; display:inline-block">${word}</span>`;
        }).join(' ');
      } catch (error) {
        cloudEl.innerHTML = `<div class="text-red-400 text-xs">Error: ${error.message}</div>`;
        console.error(error);
      }
    }

    async function copyAllWords() {
      const allWords = Object.values(generatedWords).flat();
      if (allWords.length === 0) {
        alert('Generate some moodboards first!');
        return;
      }
      const text = allWords.join(', ');
      await navigator.clipboard.writeText(text);
      alert(`Copied ${allWords.length} words to clipboard!`);
    }
  </script>
</body>
</html>

